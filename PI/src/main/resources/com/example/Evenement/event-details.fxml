<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.Evenement.Controller.EventDetailsController"
            style="-fx-background-color: #f5f5f5;">

    <ScrollPane fitToWidth="true" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0" 
                AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
        <VBox spacing="12" style="-fx-padding: 10;" alignment="CENTER">
            
            <!-- Bouton Retour -->
            <HBox alignment="CENTER_LEFT" style="-fx-padding: 0 0 5 0;">
                <Button fx:id="backButton" onAction="#handleBack" 
                        style="-fx-background-color: transparent; -fx-text-fill: #2196F3;"
                        text="← Retour"/>
            </HBox>

            <!-- Carte principale de l'événement -->
            <VBox style="-fx-background-color: white; -fx-padding: 14; -fx-background-radius: 10; 
                        -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2); -fx-max-width: 520;" 
                  alignment="TOP_CENTER" spacing="10">
                
                <!-- Image de l'événement -->
                <ImageView fx:id="eventImage" fitWidth="420" fitHeight="210" preserveRatio="true"/>

                <!-- Titre et badges -->
                <VBox spacing="6" style="-fx-padding: 10 0;">
                    <Label fx:id="eventTitle" style="-fx-font-size: 20; -fx-font-weight: bold;"/>
                    <HBox spacing="8">
                        <Label fx:id="eventType" style="-fx-background-color: #E3F2FD; -fx-padding: 3 10; 
                               -fx-background-radius: 15; -fx-text-fill: #1976D2; -fx-font-size: 12;"/>
                        <Label fx:id="eventStatus" style="-fx-background-color: #E8F5E9; -fx-padding: 3 10; 
                               -fx-background-radius: 15; -fx-text-fill: #388E3C; -fx-font-size: 12;"/>
                    </HBox>
                </VBox>

                <!-- Informations temporelles -->
                <HBox spacing="18" style="-fx-padding: 4 0;">
                    <VBox spacing="2">
                        <Label text="Début" style="-fx-text-fill: #757575; -fx-font-size: 11;"/>
                        <Label fx:id="startDate" style="-fx-font-weight: bold; -fx-font-size: 12;"/>
                    </VBox>
                    <VBox spacing="2">
                        <Label text="Fin" style="-fx-text-fill: #757575; -fx-font-size: 11;"/>
                        <Label fx:id="endDate" style="-fx-font-weight: bold; -fx-font-size: 12;"/>
                    </VBox>
                    <VBox spacing="2">
                        <Label text="Durée" style="-fx-text-fill: #757575; -fx-font-size: 11;"/>
                        <Label fx:id="duration" style="-fx-font-weight: bold; -fx-font-size: 12;"/>
                    </VBox>
                </HBox>

                <!-- Description -->
                <VBox spacing="6" style="-fx-padding: 10 0;">
                    <Label text="Description" style="-fx-font-weight: bold; -fx-font-size: 13;"/>
                    <TextFlow>
                        <Text fx:id="descriptionText" style="-fx-font-size: 13;"/>
                    </TextFlow>
                </VBox>

                <!-- Régions -->
                <VBox spacing="6">
                    <Label text="Régions concernées" style="-fx-font-weight: bold; -fx-font-size: 13;"/>
                    <FlowPane fx:id="regionsFlow" hgap="8" vgap="8"/>
                </VBox>

                <!-- Bouton S'inscrire -->
                <HBox alignment="CENTER" spacing="10" style="-fx-padding: 12 0 0 0;">
                    <Button onAction="#handleInscription" 
                            style="-fx-background-color: #2196F3; -fx-text-fill: white; 
                                   -fx-padding: 8 18; -fx-font-size: 14; -fx-background-radius: 5;"
                            text="S'inscrire"/>
                    <Button onAction="#handleWeather" 
                            style="-fx-background-color: #4CAF50; -fx-text-fill: white; 
                                   -fx-padding: 8 18; -fx-font-size: 14; -fx-background-radius: 5;"
                            text="Voir la météo"/>
                </HBox>
            </VBox>
        </VBox>
    </ScrollPane>
</AnchorPane> 